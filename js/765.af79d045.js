"use strict";(self["webpackChunkprueba2"]=self["webpackChunkprueba2"]||[]).push([[765],{446:(e,l,a)=>{a.d(l,{Z:()=>s});a(5363);var o=a(52),n=a.n(o);const t="http://190.16.160.68:4020";async function s(e){const l=await n()({method:"GET",url:t+"/api/v1/auth/ability",headers:{cdevicefingerprint:"7a17f6c4beb11ca9c82472c5646d1b39","Access-Control-Allow-Origin":"*"}}),a=l.data.recordset.map((l=>{const a={};if(a.inverted=l.inverted,a.action=l.action,a.subject=l.subject,a.reason=l.reason,a.fields=JSON.parse(l.fields),"string"===typeof l.conditions){let o=l.conditions.replace("@@cLoginUpd@@",e);a.conditions=JSON.parse(o)}return a}));return a}},1106:(e,l,a)=>{a.d(l,{s:()=>t});var o=a(195);const n=JSON.parse('{"b":[{"cRoute":"/auth/login"}]}');async function t(e,l,a){try{console.log("ApiService cMethod, cUrl, cPayLoad: ",e,l,a);let t="http://190.16.160.68:4020",s=null,i=null,c=null;const r=n.b.findIndex((e=>e.cRoute===l));r>=0?(c="fakeApi"+l+".json",t=""):c=l,"GET"===e?s=a:i=a;const u={method:e,url:c,baseURL:t,params:s,data:i,timeout:8e3,headers:{"Content-Type":"application/json"}},d=await(0,o.api)(u);console.log("RESUL OK JSON",d);let m={};return m=Object.assign(m,d.data),m=Object.assign(m,{cStatus:d.data.output.cEstado}),m=Object.assign(m,{cdStatus:d.data.output.cTitulo}),m=Object.assign(m,{output:d.data.output}),m=Object.assign(m,{status:d.status}),m=Object.assign(m,{statustext:d.statustext}),console.log("RESUL jResponse",m),m}catch(t){console.log("RESUL error",t);let e={};if(null!==t&&void 0!==t&&t.response)e=Object.assign(e,{cStatus:res.data.cStatus}),e=Object.assign(e,{cdStatus:res.data.cdStatus}),e=Object.assign(e,{output:t.response.data.output}),e=Object.assign(e,{status:t.response.status}),e=Object.assign(e,{statusText:t.response.statustext});else{let l="No se obtuvo respuesta del servidor";e=Object.assign(e,{status:500}),e=Object.assign(e,{statusText:t}),e=Object.assign(e,{cStatus:"CRASH"}),e=Object.assign(e,{cdStatus:l})}return console.log("RESUL jResponse",e),e}}},1055:(e,l,a)=>{a.d(l,{ZJ:()=>n,jV:()=>t,y9:()=>s,xW:()=>i});var o=a(6394);function n(e){return new Promise((l=>{setTimeout((()=>{l(2)}),e)}))}function t(e,l,a){e.notify({type:"ongoing",position:"right",spinner:o.Z,message:l,timeout:a})}function s(e,l,a,o){e.notify({type:"positive",position:"right",message:l,caption:a,timeout:o})}function i(e,l,a,o){e.notify({type:"negative",position:"right",message:l,caption:a,timeout:o})}},6765:(e,l,a)=>{a.r(l),a.d(l,{default:()=>cl});var o=a(3673),n=a(2323);const t=e=>((0,o.dD)("data-v-4aef5766"),e=e(),(0,o.Cn)(),e),s={class:"q-pa-md"},i={key:0},c=t((()=>(0,o._)("h4",{class:"no-margin no-padding"}," Administracion de usuarios ",-1))),r={class:"row align-center justify-end full-height full-width text-center"},u={class:"row"},d=t((()=>(0,o._)("h6",{class:"no-margin no-padding"},"Usuarios",-1))),m=(0,o.Uk)("Exportar a excel"),p={class:"full-width row flex-center text-accent q-gutter-sm"},g=t((()=>(0,o._)("span",null," No hay registros para mostrar ",-1))),b={class:"row justify-around full-height full-width text-center"},v={class:"q-pa-lg flex flex-center"},w={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3"},h={key:1,class:"row justify-around full-height full-width text-center"},f=t((()=>(0,o._)("span",{class:"q-ml-sm"},"Confirma baja de usuario?",-1)));function y(e,l,a,t,y,U){const C=(0,o.up)("q-icon"),_=(0,o.up)("q-input"),x=(0,o.up)("q-btn"),q=(0,o.up)("q-fab-action"),V=(0,o.up)("q-fab"),k=(0,o.up)("q-chip"),L=(0,o.up)("q-td"),S=(0,o.up)("q-select"),W=(0,o.up)("q-pagination"),P=(0,o.up)("q-toggle"),j=(0,o.up)("q-item-label"),H=(0,o.up)("q-item-section"),O=(0,o.up)("q-item"),D=(0,o.up)("q-list"),Z=(0,o.up)("q-card"),F=(0,o.up)("q-table"),Q=(0,o.up)("q-avatar"),E=(0,o.up)("q-card-section"),I=(0,o.up)("q-card-actions"),A=(0,o.up)("q-dialog"),N=(0,o.up)("updateUser"),T=(0,o.up)("createUser"),z=(0,o.up)("q-page"),R=(0,o.up)("q-page-container"),B=(0,o.up)("q-layout"),K=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(B,null,{default:(0,o.w5)((()=>[(0,o.Wm)(R,{class:"no-margin"},{default:(0,o.w5)((()=>[(0,o.Wm)(z,null,{default:(0,o.w5)((()=>[(0,o._)("div",s,[e.lTable?((0,o.wg)(),(0,o.iD)("div",i,[c,(0,o.Wm)(F,{class:"my-sticky-header-column-table",title:"Treats",rows:e.jUsers,columns:e.columns,"row-key":"name",separator:e.separator,loading:e.loading,pagination:e.pagination,"onUpdate:pagination":l[5]||(l[5]=l=>e.pagination=l),selected:e.selected,"onUpdate:selected":l[6]||(l[6]=l=>e.selected=l),"hide-pagination":"true","wrap-cells":"",filter:e.filter,"hide-header":"grid"===e.mode,grid:"grid"==e.mode},{"top-right":(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(_,{modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=l=>e.filter=l),placeholder:"Buscar en la grilla"},{append:(0,o.w5)((()=>[(0,o.Wm)(C,{name:"mdi-text-search"})])),_:1},8,["modelValue"]),(0,o.Wm)(x,{flat:"",round:"",dense:"",icon:"grid"===e.mode?"mdi-format-list-bulleted":"mdi-grid-large",onClick:l[1]||(l[1]=l=>e.mode="grid"===e.mode?"list":"grid")},null,8,["icon"]),(0,o.Wm)(V,{class:"q-ml-xl",icon:"mdi-account-details",direction:"left",color:"accent"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{onClick:e.onCreateUser,square:"","hide-label":e.hideLabels,color:"positive",icon:"mdi-account-plus",label:"Nuevo"},null,8,["onClick","hide-label"])])),_:1})])])),"top-left":(0,o.w5)((()=>[(0,o._)("div",u,[d,(0,o.Wm)(x,{outlined:"",icon:"mdi-microsoft-excel",color:"secondary",class:"q-ml-sm"},{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(x,{onClick:e.onRefresh,outlined:"",icon:"mdi-refresh",color:"secondary",class:"q-ml-sm"},null,8,["onClick"])])])),"no-data":(0,o.w5)((({icon:e,filter:l})=>[(0,o._)("div",p,[(0,o.Wm)(C,{size:"2em",name:"mdi-table-row-remove"}),g,(0,o.Wm)(C,{size:"2em",name:l?"filter_b_and_w":e},null,8,["name"])])])),"body-cell-lActive":(0,o.w5)((e=>[(0,o.Wm)(k,{color:"1"==e.row.lActive?"green":"red","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(1==e.row.lActive?"Activo":"Baja"),1)])),_:2},1032,["color"])])),"body-cell-actions":(0,o.w5)((l=>[(0,o.Wm)(L,null,{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o.Wm)(V,{label:"Acciones","label-position":"top","external-label":"",color:"accent",icon:"mdi-menu-open",direction:"left",padding:"sm",square:"","hide-label":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"positive",onClick:a=>e.onUpdateUser(l.row),icon:"mdi-pencil",label:"Editar"},null,8,["hide-label","onClick"]),(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"negative",onClick:a=>e.onDesableUser(l.row),icon:"mdi-account-remove",label:"Deshabilitar"},null,8,["hide-label","onClick"]),(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"negative",onClick:a=>e.onDeleteUser(l.row),icon:"mdi-delete-forever",label:"Eliminar"},null,8,["hide-label","onClick"])])),_:2},1024)])])),_:2},1024)])),bottom:(0,o.w5)((()=>[(0,o.Wm)(S,{label:"Registros por pagina","transition-show":"flip-up","transition-hide":"flip-down",filled:"",dense:"",modelValue:e.pagination.rowsPerPage,"onUpdate:modelValue":l[2]||(l[2]=l=>e.pagination.rowsPerPage=l),options:e.rowsPerPages,style:{width:"250px"}},{prepend:(0,o.w5)((()=>[(0,o.Wm)(C,{name:"mdi-book-open-page-variant-outline",color:"primary"})])),_:1},8,["modelValue","options"]),(0,o._)("div",v,[(0,o.Wm)(W,{modelValue:e.pagination.page,"onUpdate:modelValue":l[3]||(l[3]=l=>e.pagination.page=l),max:e.pagesNumber,"direction-links":"","boundary-links":"","icon-first":"mdi-page-first","icon-last":"mdi-page-last","icon-prev":"mdi-chevron-left","icon-next":"mdi-chevron-right",color:"primary"},null,8,["modelValue","max"])]),(0,o.Wm)(P,{modelValue:e.hideLabels,"onUpdate:modelValue":l[4]||(l[4]=l=>e.hideLabels=l),label:"Ocultar ayuda"},null,8,["modelValue"])])),item:(0,o.w5)((l=>[(0,o._)("div",w,[(0,o.Wm)(Z,{class:(0,n.C_)(l.selected?"bg-red-2":"bg-grey-2")},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{dense:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.cols,(a=>((0,o.wg)(),(0,o.j4)(O,{key:a.name},{default:(0,o.w5)((()=>[(0,o.Wm)(H,null,{default:(0,o.w5)((()=>[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.label),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(H,{side:""},{default:(0,o.w5)((()=>["lActive"===a.name?((0,o.wg)(),(0,o.j4)(k,{key:0,color:"1"==l.row.lActive?"green":"red","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(1==l.row.lActive?"Activo":"Baja"),1)])),_:2},1032,["color"])):"actions"===a.name?((0,o.wg)(),(0,o.iD)("div",h,[(0,o.Wm)(V,{label:"Acciones","label-position":"top","external-label":"",color:"accent",icon:"mdi-menu-open",direction:"left",padding:"sm",square:"","hide-label":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"positive",onClick:a=>e.onUpdateUser(l.row),icon:"mdi-pencil",label:"Editar"},null,8,["hide-label","onClick"]),(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"negative",onClick:a=>e.onDesableUser(l.row),icon:"mdi-account-remove",label:"Deshabilitar"},null,8,["hide-label","onClick"]),(0,o.Wm)(q,{square:"","hide-label":e.hideLabels,color:"negative",onClick:a=>e.onDeleteUser(l.row),icon:"mdi-delete-forever",label:"Eliminar"},null,8,["hide-label","onClick"])])),_:2},1024)])):((0,o.wg)(),(0,o.j4)(j,{key:2,caption:"",class:(0,n.C_)(a.classes?a.classes:"")},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.value),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["class"])])])),_:1},8,["rows","columns","separator","loading","pagination","selected","filter","hide-header","grid"])])):(0,o.kq)("",!0),(0,o.Wm)(A,{modelValue:e.lDialogConfirm,"onUpdate:modelValue":l[7]||(l[7]=l=>e.lDialogConfirm=l),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{icon:"mdi-delete-forever",color:"primary","text-color":"white"}),f])),_:1}),(0,o.Wm)(I,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(x,{flat:"",label:"Cancelar",color:"primary"},null,512),[[K]]),(0,o.wy)((0,o.Wm)(x,{flat:"",label:"OK",color:"primary"},null,512),[[K]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.lUpdateUser?((0,o.wg)(),(0,o.j4)(N,{key:1,onUpdatedUser:e.onUpdatedUser,onCancel:e.onCancel,oUser:e.oUser},null,8,["onUpdatedUser","onCancel","oUser"])):(0,o.kq)("",!0),e.lCreateUser?((0,o.wg)(),(0,o.j4)(T,{key:2,onCreatedUser:e.onCreatedUser,onCancel:e.onCancel},null,8,["onCreatedUser","onCancel"])):(0,o.kq)("",!0)])])),_:1})])),_:1})])),_:1})}var U=a(8825),C=a(1959),_=a(5948),x=a(9582),q=a(3617),V=a(1106),k=a(446);const L={class:"q-gutter-md wrap justify-between items-start content-start"},S=(0,o._)("h4",null,"Crear usuario ",-1),W={class:"row"},P={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},j=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),H={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},O=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),D={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},Z=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),F={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},Q={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},E={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},I={class:"row"},A={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},N=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),T={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},z=(0,o._)("span",{class:"q-px-sm text-red text-italic rounded-borders"},"(*)",-1),R={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},B=(0,o._)("span",{class:"q-px-sm text-red text-italic rounded-borders"},"(*)",-1),K={class:"row inline"},G={class:"col q-ma-sm"},J={class:"col q-ma-sm"},M={class:"row"},Y={class:"q-mt-lg"},$=(0,o._)("span",{class:"text-red text-italic rounded-borders"},"(*)",-1),X={key:0,class:"q-pa-md q-gutter-sm"};function ee(e,l,a,t,s,i){const c=(0,o.up)("q-input"),r=(0,o.up)("q-select"),u=(0,o.up)("q-icon"),d=(0,o.up)("q-btn"),m=(0,o.up)("q-form"),p=(0,o.up)("q-banner"),g=(0,o.up)("q-page"),b=(0,o.up)("q-page-container"),v=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(b,{class:"no-margin no-padding"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o._)("div",L,[(0,o.Wm)(m,{modelValue:t.lFormValid,"onUpdate:modelValue":l[11]||(l[11]=e=>t.lFormValid=e),onClick:t.OnFormValidate,class:"q-gutter-md",ref:"Form","no-error-focus":""},{default:(0,o.w5)((()=>[S,(0,o._)("div",W,[(0,o._)("div",P,[(0,o.Wm)(c,{modelValue:t.cID,"onUpdate:modelValue":l[0]||(l[0]=e=>t.cID=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.ID"),"lazy-rules":"",mask:"##-########-#",rules:[e=>e&&11!=e.length||t.i18n.t("auth.Enter ID")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.ID"))+" ",1),j])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",H,[(0,o.Wm)(c,{modelValue:t.cFirstName,"onUpdate:modelValue":l[1]||(l[1]=e=>t.cFirstName=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.First name"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter first name")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.First name"))+" ",1),O])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",D,[(0,o.Wm)(c,{modelValue:t.cLastName,"onUpdate:modelValue":l[2]||(l[2]=e=>t.cLastName=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.Last name"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter last name")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.Last name"))+" ",1),Z])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",F,[(0,o.Wm)(r,{outlined:"",modelValue:t.ncSystem,"onUpdate:modelValue":l[3]||(l[3]=e=>t.ncSystem=e),options:t.jSystem,"option-value":"ncSystem","option-label":"cdSystem","option-disable":"inactive",label:"Sistema",rules:[e=>e||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])]),(0,o._)("div",Q,[(0,o.Wm)(r,{outlined:"",modelValue:t.cLocale,"onUpdate:modelValue":l[4]||(l[4]=e=>t.cLocale=e),options:t.jLocale,"option-value":"cLocale","option-label":"cdLocale","option-disable":"lDisable",label:"Idioma",rules:[e=>e&&e.length>=0||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])]),(0,o._)("div",E,[(0,o.Wm)(r,{outlined:"",modelValue:t.ncCountry,"onUpdate:modelValue":l[5]||(l[5]=e=>t.ncCountry=e),options:t.jCountry,"option-value":"ncCountry","option-label":"cdCountry","option-disable":"lDisable",label:"Pais",rules:[e=>e||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])])]),(0,o._)("div",I,[(0,o._)("div",A,[(0,o.Wm)(c,{modelValue:t.cLogin,"onUpdate:modelValue":l[6]||(l[6]=e=>t.cLogin=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.Username or email"),"lazy-rules":"",rules:[e=>e&&11!=e.length||t.i18n.t("auth.Enter your username")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.Username"))+" ",1),N])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",T,[(0,o.Wm)(c,{modelValue:t.cLoginPassword,"onUpdate:modelValue":l[8]||(l[8]=e=>t.cLoginPassword=e),outlined:"",clearable:"",label:"",type:t.lViewPassword?"password":"text",hint:t.i18n.t("auth.Password"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter your password")]},{prepend:(0,o.w5)((()=>[(0,o.Wm)(u,{name:"mdi-key",class:"text-primary"})])),label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.Password"))+" ",1),z])),append:(0,o.w5)((()=>[(0,o.Wm)(u,{name:t.lViewPassword?"mdi-eye-off":"mdi-eye",class:"cursor-pointer",onClick:l[7]||(l[7]=e=>t.lViewPassword=!t.lViewPassword)},null,8,["name"])])),_:1},8,["modelValue","type","hint","rules"])]),(0,o._)("div",R,[(0,o.Wm)(c,{modelValue:t.cLoginPasswordConfirm,"onUpdate:modelValue":l[10]||(l[10]=e=>t.cLoginPasswordConfirm=e),outlined:"",clearable:"",label:"",type:t.lViewPassword?"password":"text",hint:t.i18n.t("auth.Password confirm"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter password confirm")]},{prepend:(0,o.w5)((()=>[(0,o.Wm)(u,{name:"mdi-key",class:"text-primary"})])),label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.Password confirm"))+" ",1),B])),append:(0,o.w5)((()=>[(0,o.Wm)(u,{name:t.lViewPassword?"mdi-eye-off":"mdi-eye",class:"cursor-pointer",onClick:l[9]||(l[9]=e=>t.lViewPassword=!t.lViewPassword)},null,8,["name"])])),_:1},8,["modelValue","type","hint","rules"])])]),(0,o._)("div",K,[(0,o._)("div",G,[(0,o.Wm)(d,{onClick:t.OnCancel,label:t.i18n.t("auth.button.Cancel"),color:"secondary"},null,8,["onClick","label"])]),(0,o._)("div",J,[(0,o.Wm)(d,{disable:!t.lFormValid,onClick:t.OnSubmit,label:t.i18n.t("auth.button.Confirm"),color:"primary",loading:t.lFormSubmitting},null,8,["disable","onClick","label","loading"])])]),(0,o._)("div",M,[(0,o._)("div",Y,[$,(0,o.Uk)(" "+(0,n.zw)(t.i18n.t("auth.They are mandatory data")),1)])])])),_:1},8,["modelValue","onClick"])]),t.lFormBanner?((0,o.wg)(),(0,o.iD)("div",X,[(0,o.Wm)(p,{"inline-actions":"",rounded:"",class:"bg-red text-white"},{action:(0,o.w5)((()=>[(0,o.Wm)(d,{onClick:l[12]||(l[12]=e=>t.lFormBanner=!t.lFormBanner),flat:"",label:"Entendido"})])),default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.cCommentBanner)+" ",1)])),_:1})])):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1})}a(6394);var le=a(1055);const ae={emits:["createUser"],setup(e,{emit:l}){const a=(0,U.Z)(),n=(0,q.oR)(),t=((0,x.tv)(),(0,_.QT)({})),s=(0,C.iH)(null);let i=(0,C.iH)(!1);const c=(0,C.iH)(!1),r=(0,C.iH)(!1),u=(0,C.iH)(null),d=(0,C.iH)(null),m=(0,C.iH)(null),p=(0,C.iH)(null),g=(0,C.iH)(null),b=(0,C.iH)(null),v=(0,C.iH)(null),w=(0,C.iH)(null),h=(0,C.iH)(null),f=(0,C.iH)(!1),y=(0,C.iH)(null),k=(0,C.iH)(null),L=(0,C.iH)(null),S=(0,C.iH)([{ncSystem:1,cdSystem:"VTV norte"},{ncSystem:2,cdSystem:"Fondo de Reserva"}]),W=(0,C.iH)([{cLocale:"es-AR",cdLocale:"Español"},{cLocale:"en-US",cdLocale:"Ingles"}]),P=(0,C.iH)([{ncCountry:80,cdCountry:"Argentina",lDisable:!1},{ncCountry:11,cdCountry:"Chile",lDisable:!0}]);function j(){r.value=!1,u.value=null}async function H(){l("Cancel")}async function O(){if(s.value.validate(),i.value){c.value=!0,j(),(0,le.jV)(a,"Enviando datos ...",500);const e={cLoginUpd:p.value,cLoginPassword:d.value,cLogin:g.value,ncSystem:y.value,ncCountry:L.value,cLocale:k.value,cFirstName:b.value,cLastName:v.value,cDenomination:w.value,cID:h.value},o=await(0,V.s)("POST","/api/v1/auth/user",e);console.log("Response",o),c.value=!1,"OK"===o.cStatus?(console.log("Response 0",o.recordset[0]),console.log("Response STATUS",o.cStatus),(0,le.y9)(a,"Usuario creado !!","Usuario creado con exito",1e3),await(0,le.ZJ)(2e3),l("createdUser",o.recordset[0])):(r.value=!0,u.value=o.cdStatus,(0,le.xW)(a,o.cdStatus,u,2e3))}}function D(){var e;null===(e=s.value)||void 0===e||e.validate().then((e=>{e?(i.value=!0,console.log("Ok, Validacion")):(i.value=!1,console.log("NO Ok, Revisar formulario"))}))}return(0,o.bv)((async()=>{p.value=n.getters["auth/Get_oUser"].cLoginUpd})),{i18n:t,lFormSubmitting:c,lFormValid:i,lFormBanner:r,cCommentBanner:u,Form:s,OnFormValidate:D,OnSubmit:O,OnCancel:H,cLoginUpd:p,cLoginPassword:d,cLoginPasswordConfirm:m,lViewPassword:f,cLogin:g,cFirstName:b,cLastName:v,cDenomination:w,cID:h,ncSystem:y,cLocale:k,ncCountry:L,jSystem:S,jLocale:W,jCountry:P}}};var oe=a(4260),ne=a(9214),te=a(2652),se=a(4379),ie=a(5269),ce=a(4842),re=a(5863),ue=a(4554),de=a(8240),me=a(5607),pe=a(7518),ge=a.n(pe);const be=(0,oe.Z)(ae,[["render",ee]]),ve=be;ge()(ae,"components",{QLayout:ne.Z,QPageContainer:te.Z,QPage:se.Z,QForm:ie.Z,QInput:ce.Z,QSelect:re.Z,QIcon:ue.Z,QBtn:de.Z,QBanner:me.Z});const we={class:"q-gutter-md wrap justify-between items-start content-start"},he=(0,o._)("h4",null,"Modificar usuario ",-1),fe={class:"row"},ye={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},Ue=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),Ce={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},_e=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),xe={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},qe=(0,o._)("span",{class:"q-px-sm bg-deep-red text-red text-italic rounded-borders"},"(*)",-1),Ve={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},ke={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},Le={class:"col col-xs-12 col-sm-4 col-md-3 q-ma-xs"},Se={class:"row inline"},We={class:"col q-ma-sm"},Pe={class:"col q-ma-sm"},je={class:"row"},He={class:"q-mt-lg"},Oe=(0,o._)("span",{class:"text-red text-italic rounded-borders"},"(*)",-1),De={key:0,class:"q-pa-md q-gutter-sm"};function Ze(e,l,a,t,s,i){const c=(0,o.up)("q-input"),r=(0,o.up)("q-select"),u=(0,o.up)("q-btn"),d=(0,o.up)("q-form"),m=(0,o.up)("q-banner"),p=(0,o.up)("q-page"),g=(0,o.up)("q-page-container"),b=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"no-margin no-padding"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o._)("div",we,[(0,o.Wm)(d,{modelValue:t.lFormValid,"onUpdate:modelValue":l[6]||(l[6]=e=>t.lFormValid=e),onClick:t.OnFormValidate,class:"q-gutter-md",ref:"Form","no-error-focus":""},{default:(0,o.w5)((()=>[he,(0,o._)("div",fe,[(0,o._)("div",ye,[(0,o.Wm)(c,{modelValue:t.cID,"onUpdate:modelValue":l[0]||(l[0]=e=>t.cID=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.ID"),"lazy-rules":"",mask:"##-########-#",rules:[e=>e&&11!=e.length||t.i18n.t("auth.Enter ID")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.ID"))+" ",1),Ue])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",Ce,[(0,o.Wm)(c,{modelValue:t.cFirstName,"onUpdate:modelValue":l[1]||(l[1]=e=>t.cFirstName=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.First name"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter first name")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.First name"))+" ",1),_e])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",xe,[(0,o.Wm)(c,{modelValue:t.cLastName,"onUpdate:modelValue":l[2]||(l[2]=e=>t.cLastName=e),outlined:"",clearable:"",label:"",hint:t.i18n.t("auth.Last name"),"lazy-rules":"",rules:[e=>e&&e.length>0||t.i18n.t("auth.Enter last name")]},{label:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.i18n.t("auth.Last name"))+" ",1),qe])),_:1},8,["modelValue","hint","rules"])]),(0,o._)("div",Ve,[(0,o.Wm)(r,{outlined:"",modelValue:t.ncSystem,"onUpdate:modelValue":l[3]||(l[3]=e=>t.ncSystem=e),options:t.jSystem,"option-value":"ncSystem","option-label":"cdSystem","option-disable":"inactive",label:"Sistema",rules:[e=>e||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])]),(0,o._)("div",ke,[(0,o.Wm)(r,{outlined:"",modelValue:t.cLocale,"onUpdate:modelValue":l[4]||(l[4]=e=>t.cLocale=e),options:t.jLocale,"option-value":"cLocale","option-label":"cdLocale","option-disable":"lDisable",label:"Idioma",rules:[e=>e&&e.length>=0||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])]),(0,o._)("div",Le,[(0,o.Wm)(r,{outlined:"",modelValue:t.ncCountry,"onUpdate:modelValue":l[5]||(l[5]=e=>t.ncCountry=e),options:t.jCountry,"option-value":"ncCountry","option-label":"cdCountry","option-disable":"lDisable",label:"Pais",rules:[e=>e||t.i18n.t("auth.Select option")],"emit-value":"","map-options":""},null,8,["modelValue","options","rules"])])]),(0,o._)("div",Se,[(0,o._)("div",We,[(0,o.Wm)(u,{onClick:t.OnCancel,label:t.i18n.t("auth.button.Cancel"),color:"secondary"},null,8,["onClick","label"])]),(0,o._)("div",Pe,[(0,o.Wm)(u,{disable:!t.lFormValid,onClick:t.OnUpdateUser,label:t.i18n.t("auth.button.Confirm"),color:"primary",loading:t.lFormSubmitting},null,8,["disable","onClick","label","loading"])])]),(0,o._)("div",je,[(0,o._)("div",He,[Oe,(0,o.Uk)(" "+(0,n.zw)(t.i18n.t("auth.They are mandatory data")),1)])])])),_:1},8,["modelValue","onClick"])]),t.lFormBanner?((0,o.wg)(),(0,o.iD)("div",De,[(0,o.Wm)(m,{"inline-actions":"",rounded:"",class:"bg-red text-white"},{action:(0,o.w5)((()=>[(0,o.Wm)(u,{onClick:l[7]||(l[7]=e=>t.lFormBanner=!t.lFormBanner),flat:"",label:"Entendido"})])),default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.cCommentBanner)+" ",1)])),_:1})])):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1})}const Fe={emits:["updateUser"],props:{oUser:{type:Object}},setup(e,{emit:l}){const a=(0,U.Z)(),n=(0,q.oR)(),t=((0,x.tv)(),(0,_.QT)({})),s=(0,C.iH)(null);let i=(0,C.iH)(!1);const c=(0,C.iH)(!1),r=(0,C.iH)(!1),u=(0,C.iH)(null),d=(0,C.iH)(null),m=(0,C.iH)(null),p=(0,C.iH)(null),g=(0,C.iH)(null),b=(0,C.iH)(null),v=(0,C.iH)(null),w=(0,C.iH)(null),h=(0,C.iH)(null),f=(0,C.iH)(null),y=(0,C.iH)(null),k=(0,C.iH)([{ncSystem:1,cdSystem:"VTV norte"},{ncSystem:2,cdSystem:"Fondo de Reserva"}]),L=(0,C.iH)([{cLocale:"es-AR",cdLocale:"Español"},{cLocale:"en-US",cdLocale:"Ingles"}]),S=(0,C.iH)([{ncCountry:80,cdCountry:"Argentina",lDisable:!1},{ncCountry:11,cdCountry:"Chile",lDisable:!0}]);function W(){r.value=!1,u.value=null}async function P(){l("Cancel")}async function j(){if(s.value.validate(),i.value){c.value=!0,W(),(0,le.jV)(a,"Enviando datos ...",500);const e={cLoginUpd:y.value,ncPerson:d.value,ncUser:m.value,ncSystem:w.value,ncCountry:f.value,cLocale:h.value,cFirstName:p.value,cLastName:g.value,cDenomination:b.value,cID:v.value},o=await(0,V.s)("PUT","/api/v1/auth/user",e);console.log("Response",o),c.value=!1,"OK"===o.cStatus?(console.log("Response 0",o.recordset[0]),console.log("Response STATUS",o.cStatus),(0,le.y9)(a,"Usuario modificado !!","Usuario modificado con exito",1e3),await(0,le.ZJ)(2e3),l("updatedUser",o.recordset[0])):(r.value=!0,u.value=o.cdStatus,(0,le.xW)(a,o.cEstado,u,2e3))}}function H(){var e;null===(e=s.value)||void 0===e||e.validate().then((e=>{e?(i.value=!0,console.log("Ok, Validacion")):(i.value=!1,console.log("NO Ok, Revisar formulario"))}))}return(0,o.bv)((async()=>{d.value=e.oUser.ncPerson,m.value=e.oUser.ncUser,g.value=e.oUser.cLastName,p.value=e.oUser.cFirstName,v.value=e.oUser.cID,h.value=e.oUser.cLocale,w.value=e.oUser.ncSystem,f.value=e.oUser.ncCountry,y.value=n.getters["auth/Get_oUser"].cLoginUpd})),{i18n:t,lFormSubmitting:c,lFormValid:i,lFormBanner:r,cCommentBanner:u,Form:s,OnFormValidate:H,OnUpdateUser:j,OnCancel:P,cLoginUpd:y,cLocale:h,ncPerson:d,ncUser:m,cFirstName:p,cLastName:g,cDenomination:b,cID:v,ncSystem:w,ncCountry:f,jSystem:k,jLocale:L,jCountry:S}}},Qe=(0,oe.Z)(Fe,[["render",Ze]]),Ee=Qe;ge()(Fe,"components",{QLayout:ne.Z,QPageContainer:te.Z,QPage:se.Z,QForm:ie.Z,QInput:ce.Z,QSelect:re.Z,QBtn:de.Z,QBanner:me.Z});var Ie=a(4437),Ae=a(8525);const Ne=[{name:"cDenomination",required:!0,label:"Nombre y Apellido",align:"left",field:e=>e.cDenomination,format:e=>`${e}`,sortable:!0},{name:"cID",align:"center",label:"CUIT",field:"cID",sortable:!0,headerClasses:"colHead"},{name:"cdCountry",align:"left",label:"Pais",field:"cdCountry",sortable:!0},{name:"cdLocale",align:"left",label:"Idioma",field:"cdLocale",sortable:!0},{name:"cdSystem",align:"left",label:"Sistema",field:"cdSystem",sortable:!0},{name:"dStart",align:"left",label:"Fecha alta",field:"dStart",sortable:!0},{name:"dEnd",align:"left",label:"Fecha baja",field:"dEnd",sortable:!0},{name:"lActive",align:"center",label:"Activo",field:"lActive",sortable:!0},{name:"actions",align:"center",label:"Acciones",field:"actions"}],Te=(0,o.aZ)({name:"Crud",components:{createUser:ve,updateUser:Ee},setup(e,l){const{can:a}=(0,Ae.we)(),n=(0,U.Z)(),t=(0,C.iH)("list"),s=((0,x.tv)(),(0,_.QT)({}),(0,q.oR)()),i=(0,C.iH)(null),c=(0,C.iH)("cell"),r=(0,C.iH)(!1),u=(0,C.iH)(),d=(0,C.iH)(!0),m=(0,C.iH)([]),p=(0,C.iH)({ncPerson:3}),g=(0,C.iH)(!0),b=(0,C.iH)(!1),v=(0,C.iH)(!1),w=(0,C.iH)(!1),h=(0,C.iH)(null),f=(0,C.iH)({sortBy:"desc",descending:!1,page:1,rowsPerPage:10});function y(){g.value=!0,b.value=!1,v.value=!1}function L(){g.value=!1,b.value=!0}function S(e){p.value=e,console.log("ouser",p.value),g.value=!1,v.value=!0}async function W(e){const l={cLoginUpd:h.value,ncPerson:e.ncPerson};try{return await n.dialog({title:"Confirma",message:"Elimiar usuario?",cancel:!0,persistent:!0}).onOk((async()=>{await(0,V.s)("DELETE","/api/v1/auth/userdelete",l);var a=m.value.findIndex((l=>l.ncPerson===e.ncPerson));delete m.value[a],console.log(">>>> OK")})).onOk((()=>{console.log(">>>> second OK catcher")})).onCancel((()=>{console.log(">>>> Cancel")})).onDismiss((()=>{console.log("I am triggered on both OK and Cancel")})),!0}catch(a){return a}}async function P(){const e={ncPerson:null},l=await(0,V.s)("GET","/api/v1/auth/user",e);m.value=l.recordset}async function j(e){const l={cLoginUpd:s.getters["auth/Get_oUser"].cLogin,ncPerson:e.ncPerson};try{return await n.dialog({title:"Confirma",message:"Deshabilitar usuario?",cancel:!0,persistent:!0}).onOk((async()=>{const a=await(0,V.s)("DELETE","/api/v1/auth/user",l);var o=m.value.findIndex((l=>l.ncPerson===e.ncPerson));console.log("index",m.value[o]),m.value[o]=a.recordset[0],console.log(">>>> OK")})).onOk((()=>{console.log(">>>> second OK catcher")})).onCancel((()=>{console.log(">>>> Cancel")})).onDismiss((()=>{console.log("I am triggered on both OK and Cancel")})),!0}catch(a){return a}}function H(){y()}function O(e){m.value.push(e),y()}function D(e){var l=m.value.findIndex((l=>l.ncPerson===e.ncPerson));m.value[l]=e,y()}return(0,o.bv)((async()=>{P();let e=await(0,k.Z)();Ie.ability.update(e),h.value=s.getters["auth/Get_oUser"].cLoginUpd})),{can:a,mode:t,columns:Ne,jUsers:m,oUser:p,cLoginUpd:h,separator:c,loading:r,selected:u,filter:i,pagination:f,hideLabels:d,pagesNumber:(0,C.Fl)((()=>Math.ceil(m.value.length/f.value.rowsPerPage))),rowsPerPages:[4,10,20,30,50,100],lTable:g,lCreateUser:b,lUpdateUser:v,lDialogConfirm:w,onCreateUser:L,onCreatedUser:O,onUpdateUser:S,onUpdatedUser:D,onDeleteUser:W,onDesableUser:j,onCancel:H,onRefresh:P}}});var ze=a(6429),Re=a(9200),Be=a(9975),Ke=a(7030),Ge=a(3884),Je=a(7300),Me=a(8886),Ye=a(151),$e=a(7011),Xe=a(3414),el=a(2035),ll=a(2350),al=a(6778),ol=a(5589),nl=a(5096),tl=a(9367),sl=a(677);const il=(0,oe.Z)(Te,[["render",y],["__scopeId","data-v-4aef5766"]]),cl=il;ge()(Te,"components",{QLayout:ne.Z,QPageContainer:te.Z,QPage:se.Z,QTable:ze.Z,QInput:ce.Z,QIcon:ue.Z,QBtn:de.Z,QFab:Re.Z,QFabAction:Be.Z,QChip:Ke.Z,QTd:Ge.Z,QSelect:re.Z,QPagination:Je.Z,QToggle:Me.Z,QCard:Ye.Z,QList:$e.Z,QItem:Xe.Z,QItemSection:el.Z,QItemLabel:ll.Z,QDialog:al.Z,QCardSection:ol.Z,QAvatar:nl.Z,QCardActions:tl.Z}),ge()(Te,"directives",{ClosePopup:sl.Z})}}]);